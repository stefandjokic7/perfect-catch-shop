import{Fb as y,Gb as u,Ia as T,Ib as U,Jb as M,O as _,T as k,Wa as K,Xa as A,Xb as V,a as r,b as d,ca as R,db as g,eb as S,fb as O,ga as h,ha as P,jb as F,lb as W,mb as H,qb as L,rb as N,tb as q,ub as B,xa as j}from"./chunk-LASU4HDU.js";var mt=["*"];function ut(e,t){e&1&&O(0,"div",7)}var z=class e{title=M("");show=M(!1);emitClose=U();onClose(){this.emitClose.emit()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=T({type:e,selectors:[["app-base-modal"]],inputs:{title:[1,"title"],show:[1,"show"]},outputs:{emitClose:"emitClose"},ngContentSelectors:mt,decls:10,vars:6,consts:[["tabindex","-1",1,"modal","fade","modal-dialog-centered","w-100"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-backdrop","fade","show"]],template:function(n,o){n&1&&(W(),g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),q(5),S(),g(6,"button",5),F("click",function(){return o.onClose()}),S()(),g(7,"div",6),H(8),S()()()(),K(9,ut,1,0,"div",7)),n&2&&(L("display",o.show()?"block":"none"),N("show",o.show()),j(5),B(o.title()),j(4),A(o.show()?9:-1))},dependencies:[V],encapsulation:2})};var G=Symbol("DEEP_SIGNAL");function X(e){return new Proxy(e,{has(t,n){return!!this.get(t,n,void 0)},get(t,n){let o=y(t);return!pt(o)||!(n in o)?(h(t[n])&&t[n][G]&&delete t[n],t[n]):(h(t[n])||(Object.defineProperty(t,n,{value:u(()=>t()[n]),configurable:!0}),t[n][G]=!0),X(t[n]))}})}var ft=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function pt(e){if(e===null||typeof e!="object"||ht(e))return!1;let t=Object.getPrototypeOf(e);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(ft.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function ht(e){return typeof e?.[Symbol.iterator]=="function"}var gt=new WeakMap,l=Symbol("STATE_SOURCE");function w(e,...t){let n=y(()=>J(e)),o=t.reduce((i,c)=>r(r({},i),typeof c=="function"?c(i):c),n),s=e[l],a=Reflect.ownKeys(e[l]);for(let i of Reflect.ownKeys(o))if(a.includes(i)){let c=i;n[c]!==o[c]&&s[c].set(o[c])}yt(e)}function J(e){let t=e[l];return Reflect.ownKeys(e[l]).reduce((n,o)=>{let s=t[o]();return d(r({},n),{[o]:s})},{})}function St(e){return gt.get(e[l])||[]}function yt(e){let t=St(e);for(let n of t){let o=y(()=>J(e));n(o)}}function Q(...e){let t=[...e],n=typeof t[0]=="function"?{}:t.shift(),o=t;return(()=>{class a{constructor(){let c=o.reduce((p,lt)=>lt(p),wt()),{stateSignals:v,props:st,methods:at,hooks:ct}=c,x=r(r(r({},v),st),at);this[l]=c[l];for(let p of Reflect.ownKeys(x))this[p]=x[p];let{onInit:D,onDestroy:E}=ct;D&&D(),E&&k(R).onDestroy(E)}static \u0275fac=function(v){return new(v||a)};static \u0275prov=_({token:a,factory:a.\u0275fac,providedIn:n.providedIn||null})}return a})()}function wt(){return{[l]:{},stateSignals:{},props:{},methods:{},hooks:{}}}function I(...e){let t=typeof e[0]=="function"?e:e.slice(1);return n=>t.reduce((o,s)=>s(o),n)}function It(e){return t=>{let n=e(r(r(r({[l]:t[l]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(n),d(r({},t),{props:r(r({},t.props),n)})}}function Z(e){return It(t=>{let n=e(t);return Reflect.ownKeys(n).reduce((s,a)=>{let i=n[a];return d(r({},s),{[a]:h(i)?i:u(i)})},{})})}function $(e){return t=>{let n=e(r(r(r({[l]:t[l]},t.stateSignals),t.props),t.methods));return Reflect.ownKeys(n),d(r({},t),{methods:r(r({},t.methods),n)})}}function Y(e){return t=>{let n=typeof e=="function"?e():e,o=Reflect.ownKeys(n);let s=t[l],a={};for(let i of o)s[i]=P(n[i]),a[i]=X(s[i]);return d(r({},t),{stateSignals:r(r({},t.stateSignals),a)})}}var m={_origin:"https://api.emailjs.com"};var tt=(e,t="https://api.emailjs.com")=>{m._userID=e,m._origin=t};var b=(e,t,n)=>{if(!e)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};var f=class{constructor(t){this.status=t.status,this.text=t.responseText}};var C=(e,t,n={})=>new Promise((o,s)=>{let a=new XMLHttpRequest;a.addEventListener("load",({target:i})=>{let c=new f(i);c.status===200||c.text==="OK"?o(c):s(c)}),a.addEventListener("error",({target:i})=>{s(new f(i))}),a.open("POST",m._origin+e,!0),Object.keys(n).forEach(i=>{a.setRequestHeader(i,n[i])}),a.send(t)});var et=(e,t,n,o)=>{let s=o||m._userID;return b(s,e,t),C("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:s,service_id:e,template_id:t,template_params:n}),{"Content-type":"application/json"})};var bt=e=>{let t;if(typeof e=="string"?t=document.querySelector(e):t=e,!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t},nt=(e,t,n,o)=>{let s=o||m._userID,a=bt(n);b(s,e,t);let i=new FormData(a);return i.append("lib_version","3.2.0"),i.append("service_id",e),i.append("template_id",t),i.append("user_id",s),C("/api/v1.0/email/send-form",i)};var ot={init:tt,send:et,sendForm:nt};function it(){return I({state:void 0},$(e=>({updateItemToChart(t,n){if(e.itemsInCart().findIndex(o=>o.guid===t.guid)!==-1){let o=e.itemsInCart().findIndex(i=>i.guid===t.guid),s;n?s=d(r({},e.itemsInCart()[o]),{articleAmountInCart:e.itemsInCart()[o].articleAmountInCart+1}):s=d(r({},e.itemsInCart()[o]),{articleAmountInCart:e.itemsInCart()[o].articleAmountInCart-1});let a=e.itemsInCart();a[o]=s,w(e,{itemsInCart:a})}else{let o=e.itemsInCart();o.push(t),w(e,{itemsInCart:o})}},removeItemFromCart(t){w(e,{itemsInCart:e.itemsInCart().filter(n=>n.guid!==t)})},getTotalPrice(){let t=0;return e.itemsInCart().forEach(n=>{t=t+n.price*n.articleAmountInCart}),t},generateOrderMessage(){let t="";return e.itemsInCart().forEach(n=>{t=t+n.name+", kolicina: "+n.articleAmountInCart+`
`}),t},sendEmail(t){ot.send("service_6ovy39e","template_7f84s3v",{message:`Stigla je nova porudzbina: 
 
`+this.generateOrderMessage()+`
`+t+`
 
Perfect Catch team`,email:"sdjokic722@gmail.com"},"p3gXm5zBbobZQhHkg")}})))}function rt(){return I({state:void 0},Z(({itemsInCart:e})=>({getItemsInCart:u(()=>e())})))}var vt={itemsInCart:[]},pe=Q({providedIn:"root"},Y(vt),it(),rt());export{z as a,pe as b};
